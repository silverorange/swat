<?xml version="1.0" standalone="no"?>
<!DOCTYPE swatml SYSTEM "http://swat.silverorange.com/swatml1.dtd">
<swatml>
	<widget class="SwatForm">
		<widget class="SwatFrame">
			<property name="title">JavaScript Demos</property>
			<widget class="SwatMessageDisplay" id="note" />
			<widget class="SwatFormField">
				<property name="title" type="string">Download Progress</property>
				<widget class="SwatProgressBar" id="download_progress">
					<property name="value" type="float">0</property>
					<property name="text">%s%% complete</property>
					<property name="text_value" type="string">0</property>
				</widget>
			</widget>
			<widget class="SwatFormField">
				<property name="title" type="string">Upload Progress</property>
				<widget class="SwatProgressBar" id="upload_progress">
					<property name="value" type="float">0</property>
					<property name="text">%s%% complete</property>
					<property name="text_value" type="string">0</property>
				</widget>
			</widget>
		</widget>
		<widget class="SwatFrame">
			<property name="title">Other Orientations</property>
			<widget class="SwatFormField">
				<property name="title" type="string">Right to Left</property>
				<widget class="SwatProgressBar">
					<property name="value" type="float">0.30</property>
					<property name="orientation" type="constant">ORIENTATION_RIGHT_TO_LEFT</property>
				</widget>
			</widget>
			<widget class="SwatFormField">
				<property name="title" type="string">Bottom to Top</property>
				<widget class="SwatProgressBar">
					<property name="value" type="float">0.30</property>
					<property name="orientation" type="constant">ORIENTATION_BOTTOM_TO_TOP</property>
				</widget>
			</widget>
			<widget class="SwatFormField">
				<property name="title" type="string">Top to Bottom</property>
				<widget class="SwatProgressBar">
					<property name="value" type="float">0.30</property>
					<property name="orientation" type="constant">ORIENTATION_TOP_TO_BOTTOM</property>
				</widget>
			</widget>
		</widget>

		<!-- make the progress bars do something interesting -->
		<widget class="SwatContentBlock">
			<property name="content"><![CDATA[<script type="text/javascript">
			// update status bar text when value changes
			function handleDownloadValueChange(type, value)
			{
				value = Math.round(value * 100000) / 1000;
				download_progress_obj.setText(value + '% complete');
			}

			// show generic text when in pulse-mode
			function handleDownloadPulse(type)
			{
				download_progress_obj.setText('downloading...');
			}

			// increase value on mouse movement

			download_progress.addEventListener(
				'mousemove',
				function handleMouseMove() {
					var value = download_progress_obj.getValue();
					if (value > 1) {
						download_progress_obj.pulse();
					} else {
						var value = download_progress_obj.getValue() + 0.01;
						download_progress_obj.setValue(value);
					}
				}
			);

			download_progress_obj.changeValueEvent.subscribe(
				handleDownloadValueChange);

			download_progress_obj.pulseEvent.subscribe(handleDownloadPulse);

			// update status bar text when value changes
			function handleUploadValueChange(type, value)
			{
				value = Math.round(value * 100000) / 1000;
				upload_progress_obj.setText(value + '% complete');
			}

			// set random value on mouse click


			upload_progress.addEventListener(
				'click',
				function handleClick() {
					var value = Math.round(Math.random() * 100) / 100;
					upload_progress_obj.setValueWithAnimation(value);
				}
			);

			upload_progress_obj.changeValueEvent.subscribe(
				handleUploadValueChange);

			</script>]]></property>
			<property name="content_type">text/xml</property>
		</widget>
	</widget>
</swatml>
